import{a as p,c as f,d as B}from"./firebase-BVt4Iold.js";const m=document.getElementById("register-form"),g=document.getElementById("view-form"),y=document.getElementById("view-success"),E=document.getElementById("back-btn"),n=document.getElementById("toast"),e=document.getElementById("submit-btn");function c(s,t=!1){n.textContent=s,n.style.backgroundColor=t?"rgba(255, 68, 68, 0.9)":"rgba(74, 222, 128, 0.9)",n.classList.remove("hidden"),setTimeout(()=>n.classList.add("hidden"),3e3)}m.addEventListener("submit",async s=>{s.preventDefault();const t=document.getElementById("fullName").value,d=document.getElementById("whatsapp").value,r=document.getElementById("city").value,l=document.getElementById("goal").value,i=document.getElementById("area").value,u=document.getElementById("course").value,a=document.querySelector('input[name="consent"]:checked')?.value;if(!t||!d||!r||!l||!i||!u||!a){c("Por favor completa todos los campos",!0);return}if(a!=="SI"){c("Debes aceptar participar para continuar",!0);return}const v=e.textContent;e.textContent="Guardando...",e.disabled=!0;try{await p(f(B,"participants"),{name:t.trim(),whatsapp:d||"",city:r||"",goal:l||"",area:i||"",course:u||"",consent:a,registeredAt:new Date().toISOString()}),{success:!0}.success&&(g.classList.add("hidden"),y.classList.remove("hidden"),m.reset())}catch(o){c("Error: "+o.message,!0),console.error(o)}finally{e.textContent=v,e.disabled=!1}});E.addEventListener("click",()=>{y.classList.add("hidden"),g.classList.remove("hidden")});
